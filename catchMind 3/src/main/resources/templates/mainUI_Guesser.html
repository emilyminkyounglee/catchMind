<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>CatchMind - Guesser</title>

    <!-- ë‚´ ì—­í•  / ë°© / ë‹‰ë„¤ì„ (JSì—ì„œ ì‚¬ìš©) -->
    <meta name="my-role" content="GUESSER"/>
    <meta name="room-id" th:content="${roomId}"/>
    <meta name="my-name" th:content="${myName}"/>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"/>
</head>
<body class="bg-light">

<!-- ê³µí†µ í—¤ë” -->
<header th:replace="layouts/index :: global-header"></header>

<main class="container-fluid py-3">
    <div class="row g-3">

        <!-- ğŸ”¹ ì™¼ìª½: ê·¸ë¦¼íŒ col -->
        <section class="col-lg-8">
            <!-- ì‹¤ì œ ê·¸ë¦¼íŒ fragmentë¥¼ ì•ˆìª½ divì— ì‚½ì… -->
            <div th:replace="layouts/mainGameUI :: drawing-area"></div>
        </section>

        <!-- ğŸ”¹ ì˜¤ë¥¸ìª½: ê²Œì„ ì •ë³´ + ì •ë‹µ ì…ë ¥ -->
        <aside class="col-lg-4">

            <!-- ê³µí†µ ê²Œì„ ì •ë³´ -->
            <section class="border bg-white p-3 mb-3"
                     th:replace="layouts/mainGameUI :: game-info-card">
            </section>

            <!-- ì •ë‹µ ì…ë ¥ -->
            <section class="border bg-white p-3">
                <h2 class="h6">ì •ë‹µ ì…ë ¥</h2>

                <form th:action="@{/game/answer}" method="post"
                      class="d-flex gap-2 mt-2" id="guess-form">

                    <input type="text"
                           name="answer"
                           class="form-control"
                           placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”"
                           id="answer-input"/>

                    <!-- ì„œë²„ì—ì„œ ë‚˜ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ userId -->
                    <input type="hidden" name="userId" th:value="${myName}"/>

                    <button type="submit" class="btn btn-primary">
                        ì •ë‹µ í™•ì¸
                    </button>
                </form>
            </section>

            <!-- ì •ë‹µ ê²°ê³¼ (ì›¹ì†Œì¼“ìœ¼ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸) -->
            <section class="border bg-white p-3 mt-3">
                <h2 class="h6 mb-2">ì •ë‹µ ê²°ê³¼</h2>
                <div id="guess-result" class="small text-muted">
                    ì•„ì§ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
                </div>
            </section>

        </aside>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- í¬ì»¤ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    const input = document.getElementById('answer-input');
    if (input) {
        input.focus();    // í˜ì´ì§€ ë¶ˆëŸ¬ì˜¤ìë§ˆì ìë™ í¬ì»¤ìŠ¤
    }
</script>

<script src="/js/game-socket.js"></script>

</body>
</html>
