<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <title>CatchMind 단어 관리</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet" />
</head>
<body class="bg-light">

<header th:replace="layouts/index :: global-header"></header>

<main class="container py-4">

    <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>
    <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
    <h1 class="mb-4">단어 / 카테고리 관리</h1>

    <!-- 단어 추가 폼 -->
    <section class="mb-4">
        <h2 class="h5">단어 추가</h2>

        <form th:action="@{/admin/words/add}" th:object="${newWord}" method="post" class="row g-2">
            <!-- 단어 입력 -->
            <div class="col-md-4">
                <label class="form-label">단어</label>
                <input type="text" th:field="*{word}" class="form-control" placeholder="예: 강아지" required />
            </div>

            <!-- 기존 카테고리 선택 -->
            <div class="col-md-3">
                <label class="form-label">기존 카테고리 선택</label>
                <select th:field="*{category}" class="form-select">
                    <option value="">(선택 안 함)</option>
                    <option th:each="c : ${categories}"
                            th:value="${c}"
                            th:text="${c}">
                    </option>
                </select>
            </div>

            <!-- 새 카테고리 추가 -->
            <div class="col-md-3">
                <label class="form-label">새 카테고리 추가</label>
                <input type="text" name="newCategory" class="form-control" placeholder="예: 동물" />
            </div>

            <div class="col-md-2 d-flex align-items-end">
                <button type="submit" class="btn btn-primary w-100">추가</button>
            </div>
        </form>
    </section>

    <!-- 단어 목록 -->
    <section>
        <h2 class="h5 mb-2">등록된 단어 목록</h2>
        <table class="table table-sm table-striped">
            <thead>
            <tr>
                <th>ID</th>
                <th>단어</th>
                <th>카테고리</th>
                <th>사용 여부</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="w : ${words}">
                <td th:text="${w.id}">1</td>
                <td th:text="${w.word}">사과</td>
                <td th:text="${w.category}">과일</td>
                <td th:text="${w.use} ? '사용' : '미사용'">사용</td>
            </tr>
            </tbody>
        </table>
    </section>

</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>